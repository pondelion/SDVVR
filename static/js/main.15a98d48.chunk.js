(this.webpackJsonpsdvvr=this.webpackJsonpsdvvr||[]).push([[0],{176:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(28),r=a.n(o),s=(a(176),a(279)),c=a(101),l=a(31),d=a(148),h=Object(d.a)({palette:{primary:{light:"#757ce8",main:"#d32f2f",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#651fff",dark:"#ba000d",contrastText:"#000"},type:"dark"}}),u=a(15),b=a(278),p=a(193),j=a(275),m=a(280),v=a(277),g=a(293),x=a(291),f=a(292),O=a(10),y=a(12),_=a(36),E=a(7),w=a(258),S=a(290),T=a(41),P=a(288),R=a(260),I=a(262),L=a(263),A=a(266),C=a(108),k=a(265),D=a(264),N=a(137),F=a.n(N),M=a(138),H=a.n(M),B=a(139),z=a.n(B),V=a(194),U=a(267),Y=a(268),X=a(141),G=a.n(X),Z=a(2),W=240,K=Object(w.a)((function(e){return Object(S.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(W,"px)"),marginLeft:W,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:W,flexShrink:0},drawerPaper:{width:W},drawerHeader:Object(_.a)(Object(_.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(2),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})}));function q(){var e=K(),t=Object(T.a)(),a=i.a.useState(!1),n=Object(u.a)(a,2),o=n[0],r=n[1];return Object(Z.jsxs)("div",{className:e.root,children:[Object(Z.jsx)(R.a,{}),Object(Z.jsx)(I.a,{position:"fixed",className:Object(E.a)(e.appBar,Object(y.a)({},e.appBarShift,o)),children:Object(Z.jsxs)(L.a,{children:[Object(Z.jsx)(D.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(E.a)(e.menuButton,o&&e.hide),children:Object(Z.jsx)(F.a,{})}),Object(Z.jsx)(C.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(Z.jsxs)(P.a,{className:e.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:e.drawerPaper},children:[Object(Z.jsx)("div",{className:e.drawerHeader,children:Object(Z.jsx)(D.a,{onClick:function(){r(!1)},children:"ltr"===t.direction?Object(Z.jsx)(H.a,{}):Object(Z.jsx)(z.a,{})})}),Object(Z.jsx)(k.a,{}),Object(Z.jsx)(A.a,{children:Object(Z.jsx)(c.b,{to:"/simulation",style:{color:"#FFF"},children:Object(Z.jsxs)(V.a,{button:!0,children:[Object(Z.jsx)(U.a,{children:Object(Z.jsx)(G.a,{})}),Object(Z.jsx)(Y.a,{primary:"Simulation"})]},"main_key")})}),Object(Z.jsx)(k.a,{})]}),Object(Z.jsx)("main",{className:Object(E.a)(e.content,Object(y.a)({},e.contentShift,o)),children:Object(Z.jsx)("div",{className:e.drawerHeader})})]})}var Q=a(150),J=a(283),$=a(274),ee=a(282),te=a(281),ae=a(287),ne=a(284),ie=a(71),oe=a.n(ie),re=i.a.createContext({}),se=i.a.createContext({}),ce=i.a.createContext({}),le=["children","value","index"];function de(e){var t=e.children,a=e.value,n=e.index,i=Object(Q.a)(e,le);return Object(Z.jsx)("div",Object(_.a)(Object(_.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(Z.jsx)(ee.a,{p:0,children:Object(Z.jsx)(C.a,{children:t})})}))}function he(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ue=Object(w.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),be=function(e,t,a,n){var i=e.filter((function(e){return e.category===t})),o=function(i){console.log("new value : ".concat(t," : ").concat(i.target.name," : ").concat(i.target.value));for(var o=0;o<e.length;++o)if(e[o].category===t&&e[o].id===i.target.name){e[o].value=i.target.value,void 0!==a.onParameterChaneged&&a.onParameterChaneged(e,n);break}};return i.map((function(e){return Object(Z.jsxs)(p.a,{style:{marginBottom:"10px",paddingTop:"20px",paddingLeft:"20px",paddingRight:"25px"},children:[Object(Z.jsx)(C.a,{children:e.name}),function(){if("NUMBER_IMPUT"===e.parameterType)return Object(Z.jsx)(te.a,{id:e.id,label:e.id,name:e.id,placeholder:e.value,defaultValue:e.value,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onChange:o});if("SLIDER_FLOAT"===e.parameterType){var t=e.maxValue?e.maxValue:0,a=e.minValue?e.minValue:0;return Object(Z.jsx)(ae.a,{name:e.id,defaultValue:e.value,min:a,max:t,step:.002*(t-a),"aria-label":"Default",valueLabelDisplay:"auto",onChange:o})}return"SLIDER_INT"===e.parameterType?Object(Z.jsx)(ae.a,{name:e.id,defaultValue:e.value,min:e.minValue,max:e.maxValue,"aria-label":"Default",valueLabelDisplay:"auto",onChange:o}):void 0}()]})}))},pe=function(e){var t=i.a.useContext(se),a=Object(n.useState)(!0),o=Object(u.a)(a,2),r=o[0],s=o[1],c=(ue(),i.a.useState(0)),l=Object(u.a)(c,2),d=l[0],h=l[1],b=oe()(t.params),p=Object(n.useState)(b),j=Object(u.a)(p,2),m=j[0];j[1];console.log(b),console.log(m);var v=Array.from(new Set(t.params.map((function(e){return e.category}))).values());return console.log(v),Object(Z.jsxs)("div",{children:["Parameter Settings",Object(Z.jsx)(I.a,{position:"static",children:Object(Z.jsxs)(J.a,{value:d,onChange:function(e,t){h(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"simple tabs example",style:{minHeight:"10%"},children:[v.map((function(e,t){return Object(Z.jsx)($.a,Object(_.a)(Object(_.a)({label:e},he(t)),{},{style:{minWidth:"20%",minHeight:"10%"}}))})),Object(Z.jsx)($.a,Object(_.a)(Object(_.a)({label:"Params1"},he(v.length)),{},{style:{minWidth:"20%",minHeight:"10%"}}))]})}),v.map((function(e,a){return Object(Z.jsx)(de,{value:d,index:a,children:Object(Z.jsx)("div",{style:{overflowY:"scroll",height:.52*window.innerHeight,margin:"0px"},children:be(t.params,e,t,r)})})})),Object(Z.jsx)(de,{value:d,index:v.length,children:Object(Z.jsxs)("div",{style:{overflowY:"scroll",height:.52*window.innerHeight,margin:"0px"},children:[Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})})]})}),Object(Z.jsx)(ne.a,{checked:r,id:"auto_apply_check",onChange:function(e){s(e.target.checked)}}),"Auto Apply",Object(Z.jsx)(f.a,{variant:"contained",style:{float:"right",marginTop:"10px"},children:"Apply"})]})},je=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new O.E,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:O.m.ROTATE,MIDDLE:O.m.DOLLY,RIGHT:O.m.PAN},this.touches={ONE:O.z.ROTATE,TWO:O.z.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Y),this._domElementKeyEvents=e},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(n),a.update(),s=r.NONE},this.update=function(){var t=new O.E,i=(new O.s).setFromUnitVectors(e.up,new O.E(0,1,0)),o=i.clone().invert(),p=new O.E,j=new O.s,m=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(i),l.setFromVector3(t),a.autoRotate&&s===r.NONE&&w(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(l.theta+=d.theta*a.dampingFactor,l.phi+=d.phi*a.dampingFactor):(l.theta+=d.theta,l.phi+=d.phi);var v=a.minAzimuthAngle,g=a.maxAzimuthAngle;return isFinite(v)&&isFinite(g)&&(v<-Math.PI?v+=m:v>Math.PI&&(v-=m),g<-Math.PI?g+=m:g>Math.PI&&(g-=m),l.theta=v<=g?Math.max(v,Math.min(g,l.theta)):l.theta>(v+g)/2?Math.max(v,l.theta):Math.min(g,l.theta)),l.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(a.minDistance,Math.min(a.maxDistance,l.radius)),!0===a.enableDamping?a.target.addScaledVector(u,a.dampingFactor):a.target.add(u),t.setFromSpherical(l),t.applyQuaternion(o),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(d.theta*=1-a.dampingFactor,d.phi*=1-a.dampingFactor,u.multiplyScalar(1-a.dampingFactor)):(d.set(0,0,0),u.set(0,0,0)),h=1,!!(b||p.distanceToSquared(a.object.position)>c||8*(1-j.dot(a.object.quaternion))>c)&&(a.dispatchEvent(n),p.copy(a.object.position),j.copy(a.object.quaternion),b=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",W),a.domElement.removeEventListener("pointerdown",B),a.domElement.removeEventListener("wheel",U),a.domElement.removeEventListener("touchstart",X),a.domElement.removeEventListener("touchend",Z),a.domElement.removeEventListener("touchmove",G),a.domElement.ownerDocument.removeEventListener("pointermove",z),a.domElement.ownerDocument.removeEventListener("pointerup",V),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",Y)};var a=this,n={type:"change"},i={type:"start"},o={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=r.NONE,c=1e-6,l=new O.v,d=new O.v,h=1,u=new O.E,b=!1,p=new O.D,j=new O.D,m=new O.D,v=new O.D,g=new O.D,x=new O.D,f=new O.D,y=new O.D,_=new O.D;function E(){return Math.pow(.95,a.zoomSpeed)}function w(e){d.theta-=e}function S(e){d.phi-=e}var T=function(){var e=new O.E;return function(t,a){e.setFromMatrixColumn(a,0),e.multiplyScalar(-t),u.add(e)}}(),P=function(){var e=new O.E;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),R=function(){var e=new O.E;return function(t,n){var i=a.domElement;if(a.object.isPerspectiveCamera){var o=a.object.position;e.copy(o).sub(a.target);var r=e.length();r*=Math.tan(a.object.fov/2*Math.PI/180),T(2*t*r/i.clientHeight,a.object.matrix),P(2*n*r/i.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(T(t*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),P(n*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function I(e){a.object.isPerspectiveCamera?h/=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function L(e){a.object.isPerspectiveCamera?h*=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function A(e){p.set(e.clientX,e.clientY)}function C(e){v.set(e.clientX,e.clientY)}function k(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,a)}}function D(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,a)}}function N(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+a*a);f.set(0,n)}function F(e){if(1==e.touches.length)j.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(t,n)}m.subVectors(j,p).multiplyScalar(a.rotateSpeed);var i=a.domElement;w(2*Math.PI*m.x/i.clientHeight),S(2*Math.PI*m.y/i.clientHeight),p.copy(j)}function M(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}x.subVectors(g,v).multiplyScalar(a.panSpeed),R(x.x,x.y),v.copy(g)}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);y.set(0,i),_.set(0,Math.pow(y.y/f.y,a.zoomSpeed)),I(_.y),f.copy(y)}function B(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),a.domElement.focus?a.domElement.focus():window.focus(),e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case O.m.DOLLY:if(!1===a.enableZoom)return;!function(e){f.set(e.clientX,e.clientY)}(e),s=r.DOLLY;break;case O.m.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;C(e),s=r.PAN}else{if(!1===a.enableRotate)return;A(e),s=r.ROTATE}break;case O.m.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;A(e),s=r.ROTATE}else{if(!1===a.enablePan)return;C(e),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&(a.domElement.ownerDocument.addEventListener("pointermove",z),a.domElement.ownerDocument.addEventListener("pointerup",V),a.dispatchEvent(i))}(e)}}function z(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===a.enabled)return;switch(e.preventDefault(),s){case r.ROTATE:if(!1===a.enableRotate)return;!function(e){j.set(e.clientX,e.clientY),m.subVectors(j,p).multiplyScalar(a.rotateSpeed);var t=a.domElement;w(2*Math.PI*m.x/t.clientHeight),S(2*Math.PI*m.y/t.clientHeight),p.copy(j),a.update()}(e);break;case r.DOLLY:if(!1===a.enableZoom)return;!function(e){y.set(e.clientX,e.clientY),_.subVectors(y,f),_.y>0?I(E()):_.y<0&&L(E()),f.copy(y),a.update()}(e);break;case r.PAN:if(!1===a.enablePan)return;!function(e){g.set(e.clientX,e.clientY),x.subVectors(g,v).multiplyScalar(a.panSpeed),R(x.x,x.y),v.copy(g),a.update()}(e)}}(e)}}function V(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(a.domElement.ownerDocument.removeEventListener("pointermove",z),a.domElement.ownerDocument.removeEventListener("pointerup",V),!1===a.enabled)return;a.dispatchEvent(o),s=r.NONE}()}}function U(e){!1===a.enabled||!1===a.enableZoom||s!==r.NONE&&s!==r.ROTATE||(e.preventDefault(),e.stopPropagation(),a.dispatchEvent(i),function(e){e.deltaY<0?L(E()):e.deltaY>0&&I(E()),a.update()}(e),a.dispatchEvent(o))}function Y(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.keyCode){case a.keys.UP:R(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:R(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:R(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:R(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function X(e){if(!1!==a.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(a.touches.ONE){case O.z.ROTATE:if(!1===a.enableRotate)return;k(e),s=r.TOUCH_ROTATE;break;case O.z.PAN:if(!1===a.enablePan)return;D(e),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(a.touches.TWO){case O.z.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&N(e),a.enablePan&&D(e)}(e),s=r.TOUCH_DOLLY_PAN;break;case O.z.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&N(e),a.enableRotate&&k(e)}(e),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&a.dispatchEvent(i)}}function G(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case r.TOUCH_ROTATE:if(!1===a.enableRotate)return;F(e),a.update();break;case r.TOUCH_PAN:if(!1===a.enablePan)return;M(e),a.update();break;case r.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&H(e),a.enablePan&&M(e)}(e),a.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&H(e),a.enableRotate&&F(e)}(e),a.update();break;default:s=r.NONE}}function Z(e){!1!==a.enabled&&(a.dispatchEvent(o),s=r.NONE)}function W(e){!1!==a.enabled&&e.preventDefault()}a.domElement.addEventListener("contextmenu",W),a.domElement.addEventListener("pointerdown",B),a.domElement.addEventListener("wheel",U),a.domElement.addEventListener("touchstart",X),a.domElement.addEventListener("touchend",Z),a.domElement.addEventListener("touchmove",G),this.update()};(je.prototype=Object.create(O.h.prototype)).constructor=je;var me=function(e,t){je.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=O.m.PAN,this.mouseButtons.RIGHT=O.m.ROTATE,this.touches.ONE=O.z.PAN,this.touches.TWO=O.z.DOLLY_ROTATE};(me.prototype=Object.create(O.h.prototype)).constructor=me;for(var ve=a(3),ge=a(4),xe=function(){function e(){Object(ve.a)(this,e)}return Object(ge.a)(e,null,[{key:"createButton",value:function(e,t){t&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');var a=document.createElement("button");function n(){a.style.display="",a.style.cursor="auto",a.style.left="calc(50% - 75px)",a.style.width="150px",a.onmouseenter=null,a.onmouseleave=null,a.onclick=null,a.textContent="VR NOT SUPPORTED"}function i(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return a.id="VRButton",a.style.display="none",i(a),navigator.xr.isSessionSupported("immersive-vr").then((function(t){t?function(){var t=null;function n(n){n.addEventListener("end",i),e.xr.setSession(n),a.textContent="EXIT VR",t=n}function i(){t.removeEventListener("end",i),a.textContent="ENTER VR",t=null}a.style.display="",a.style.cursor="pointer",a.style.left="calc(50% - 50px)",a.style.width="100px",a.textContent="ENTER VR",a.onmouseenter=function(){a.style.opacity="1.0"},a.onmouseleave=function(){a.style.opacity="0.5"},a.onclick=function(){null===t?navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking"]}).then(n):t.end()}}():n()})),a;var o=document.createElement("a");return!1===window.isSecureContext?(o.href=document.location.href.replace(/^http:/,"https:"),o.innerHTML="WEBXR NEEDS HTTPS"):(o.href="https://immersiveweb.dev/",o.innerHTML="WEBXR NOT AVAILABLE"),o.style.left="calc(50% - 90px)",o.style.width="180px",o.style.textDecoration="none",i(o),o}}]),e}(),fe=a(144),Oe=function(){function e(){Object(ve.a)(this,e)}return Object(ge.a)(e,null,[{key:"createSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2284834,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:O.i,s=arguments.length>7?arguments[7]:void 0,c=n,l=new O.u(c,20,20),d={color:o,opacity:i,transparent:!0,side:r,depthWrite:!1};void 0!==s&&(d.map=(new O.B).load(s));var h=new O.o(d),u=new O.n(l,h);return u.position.x=e,u.position.y=t,u.position.z=a,u.castShadow=!0,u}},{key:"createBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:16711680,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:O.i,l=arguments.length>9?arguments[9]:void 0,d={opacity:r,transparent:!0,side:c,depthWrite:!1};void 0!==l?d.map=(new O.B).load(l):d.color=s;var h=new O.n(new O.c(n,i,o),new O.p(d));return h.receiveShadow=!0,h.position.set(e,t,a),h}},{key:"createPlane",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-.5*Math.PI,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:16777215,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:O.g,h=arguments.length>11?arguments[11]:void 0,u=new O.r(l,c,1,1),b={color:s,opacity:r,transparent:!0,side:d};void 0!==h&&(b.map=(new O.B).load(h));var p=new O.p(b),j=new O.n(u,p);return j.receiveShadow=!0,j.castShadow=!0,j.rotation.set(n,i,o),j.position.set(e,t,a),j}},{key:"createArrow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-Math.PI,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:.8,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:65280,u=arguments.length>12&&void 0!==arguments[12]?arguments[12]:.3,b=arguments.length>13&&void 0!==arguments[13]?arguments[13]:.3,p=new O.E(i,o,r),j=new O.E(t,a,n),m=new O.b(p,j,d,h,u,b);return m.name=e,m.rotation.x=s,m.rotation.y=c,m.rotation.z=l,m}},{key:"createSprite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:238,o=new O.y({color:i}),r=new O.x(o);return r.position.x=e,r.position.y=t,r.position.z=a,r.scale.x=n,r.scale.y=n,r.scale.z=n,r}},{key:"createTorusKnot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.4,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:64,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:6724095,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:.5,u=arguments.length>12&&void 0!==arguments[12]?arguments[12]:O.i,b=arguments.length>13?arguments[13]:void 0,p=new O.C(n,i,o,r,s,c),j={color:d,opacity:l,transparent:!0,side:u,roughness:h};void 0!==b&&(j.map=(new O.B).load(b));var m=new O.p(j),v=new O.n(p,m);return v.receiveShadow=!0,v.castShadow=!0,v.position.set(e,t,a),v}},{key:"createLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6724095,o=new O.k({color:i}),r=(new O.d).setFromPoints(e),s=new O.j(r,o);return s.position.set(t,a,n),s}},{key:"createLineArrow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6724095,r=[new O.E(-.5,0,0),new O.E(.5,0,0),new O.E(.2,.2,0),new O.E(.2,-.2,0),new O.E(.5,0,0),new O.E(.2,0,.2),new O.E(.2,0,-.2),new O.E(.5,0,0)],s=e.createLine(r,t,a,n,o);return s.scale.set(i,i,i),s}},{key:"createSpriteText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#FF0000",r=new fe.a(e);return r.position.set(t,a,n),r.scale.set(i,i,i),r.textHeight=i,r.color=o,r}}]),e}(),ye=function(e,t){var a;if(void 0!==e.objects){for(var n=0;n<(null===(i=e.objects)||void 0===i?void 0:i.length);n++){var i;if(e.objects[n].tag===t.tag)return}null===(a=e.objects)||void 0===a||a.push(t)}},_e=function(e){var t=[];return e.forEach((function(e){"sphere"===e.objType?t.push({tag:e.name,obj:Oe.createSphere(e.pos.x,e.pos.y,e.pos.z,e.scale.x,e.opacity,e.color,O.i,e.textureFilepath),objType:e.objType}):"plane"===e.objType?t.push({tag:e.name,obj:Oe.createPlane(e.pos.x,e.pos.y,e.pos.z,e.rotation.x,e.rotation.y,e.rotation.z,e.opacity,e.color,e.scale.x,e.scale.z,O.g,e.textureFilepath),objType:e.objType}):"box"===e.objType&&t.push({tag:e.name,obj:Oe.createBox(e.pos.x,e.pos.y,e.pos.z,e.scale.x,e.scale.y,e.scale.z,e.opacity,e.color,O.g,e.textureFilepath),objType:e.objType})})),t},Ee=function(e,t){if(void 0===e.objects)return null;for(var a=0;a<(null===(n=e.objects)||void 0===n?void 0:n.length);++a){var n;if(e.objects[a].tag===t)return e.objects[a]}return null},we=function(e){console.log("ThreeBaseScene");var t=i.a.useContext(re),a=void 0===t.lookAt?new O.E(0,0,0):new O.E(t.lookAt.x,t.lookAt.y,t.lookAt.z),o=i.a.useState(null),s=Object(u.a)(o,2),c=s[0],l=s[1],d=i.a.useState(new O.t),h=Object(u.a)(d,2),b=h[0],p=(h[1],i.a.useState(a)),j=Object(u.a)(p,2),m=j[0],v=(j[1],i.a.useState(new O.F({antialias:!0}))),g=Object(u.a)(v,2),x=g[0],f=(g[1],i.a.useState(void 0===t.bgColor?new O.f("#b4bad2"):t.bgColor)),y=Object(u.a)(f,2),_=y[0],E=(y[1],i.a.useState(new O.e)),w=Object(u.a)(E,2),S=w[0],T=(w[1],i.a.useState(0)),P=Object(u.a)(T,2),R=P[0],I=P[1],L=i.a.useState(null),A=Object(u.a)(L,2),C=(A[0],A[1]);t.camera.lookAt(new O.E(m.x,m.y,m.z)),x.setSize(t.width,t.height),x.setClearColor(_),x.shadowMap.enabled=!0;return Object(n.useEffect)((function(){if(console.log("useeffect"),c){c.appendChild(x.domElement);var e=new je(t.camera,c);e.target.set(0,0,0),e.update(),C(e)}x.setAnimationLoop((function(){var e;I(R+1),e=S.getDelta(),t.onUpdate&&t.onUpdate(e),t.onUpdateChart&&t.onUpdateChart(e),x.render(b,t.camera)})),r.a.render(Object(Z.jsx)("div",{id:"vr_button"}),document.body.appendChild(xe.createButton(x)))}),[c,S,x,b,t.camera]),Object(n.useEffect)((function(){console.log("useeffect2"),function(){b.remove.apply(b,b.children),t.objects&&t.objects.map((function(e){return b.add(e.obj)}));var e=new O.a(16777215,.5);b.add(e);var a=new O.w(16777215,2,100,Math.PI/4,1);a.position.set(2,7,2),a.castShadow=!0,b.add(a)}()}),[t.objects]),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{style:{width:t.width,height:t.height},ref:function(e){l(e)}}),Object(Z.jsx)("div",{id:"vr_button"})]})},Se=function(e){var t=i.a.useContext(re);return ye(t,{tag:"z_axis",obj:Oe.createArrow("z_axis",0,0,0,1,0,0,.5*Math.PI,0,0,6,16711680,.5,.5),objType:"arrow"}),ye(t,{tag:"y_axis",obj:Oe.createArrow("y_axis",0,0,0,0,1,0,0,.5*Math.PI,0,6,65280,.6,.6),objType:"arrow"}),ye(t,{tag:"x_axis",obj:Oe.createArrow("x_axis",0,0,0,0,0,1,0,0,-.5*Math.PI,6,255,.6,.6),objType:"arrow"}),ye(t,{tag:"x_text",obj:Oe.createSpriteText("X",6,1,0,.6,"#0000FF"),objType:"text"}),ye(t,{tag:"y_text",obj:Oe.createSpriteText("Y",1,6,0,.6,"#00FF00"),objType:"text"}),ye(t,{tag:"z_text",obj:Oe.createSpriteText("Z",0,1,6,.6,"#FF0000"),objType:"text"}),Object(Z.jsx)("div",{children:Object(Z.jsx)(we,{})})},Te=function(e){var t=i.a.useContext(re);return ye(t,{tag:"box1",obj:Oe.createTorusKnot(0,.2,0),objType:"box"}),ye(t,{tag:"plane1",obj:Oe.createPlane(0,0,0,-.5*Math.PI,0,0,.6,16777215,10,10,O.g,"https://threejsfundamentals.org/threejs/resources/images/wall.jpg"),objType:"plane"}),ye(t,{tag:"line1",obj:Oe.createLine([new O.E(1,4,2),new O.E(1,-4,2),new O.E(-1,4,2),new O.E(1,4,-2)],0,0,0,"#FF0000"),objType:"line"}),ye(t,{tag:"line_arrow_1",obj:Oe.createLineArrow(0,2,0,5,"#00FF00"),objType:"line"}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Se,{})})},Pe=[{name:"box1",objType:"box",pos:new O.E(0,0,0),vel:new O.E(0,0,0),rotation:new O.E(0,0,0),scale:new O.E(14,14,14),color:"#FF0000",mass:1,opacity:.5,textureFilepath:"https://threejsfundamentals.org/threejs/resources/images/wall.jpg"}],Re=0;Re<100;++Re)Pe.push({name:"shpere".concat(Re),objType:"sphere",pos:new O.E(12*(Math.random()-.5),12*(Math.random()-.5),12*(Math.random()-.5)),vel:new O.E(6*(Math.random()-.5),6*(Math.random()-.5),6*(Math.random()-.5)),rotation:new O.E(0,0,0),scale:new O.E(.2,.2,.2),color:"#FF0000",mass:1,opacity:.8});var Ie,Le=a(11),Ae=a(9),Ce=a(5),ke=a(6),De=function(){function e(t,a){Object(ve.a)(this,e),this._t=0,this._is_running=!1,this._initialObjStates=[],this._objStates=[],this._systemParams=[],this.MAX_DT=.1,this.MAX_QUEUE=2e3,this._ts=[],this._initialObjStates=t,this._objStates=oe()(t),this._systemParams=oe()(a)}return Object(ge.a)(e,[{key:"update",value:function(e){this._is_running&&(this._t+=e,this._update(Math.min(e,this.MAX_DT)),this._ts.push(this._t),this._ts.length>this.MAX_QUEUE&&this._ts.shift())}},{key:"reset",value:function(e){this._t=0,this._is_running=!1,void 0!==e?(this._initialObjStates=e,this._objStates=oe()(e)):this._objStates=oe()(this._initialObjStates),this._ts.splice(0),console.log("simulator reset")}},{key:"stop",value:function(){console.log("stopped running"),this._is_running=!1}},{key:"start",value:function(){console.log("started running"),this._is_running=!0}},{key:"setSystemParams",value:function(e){this._systemParams=oe()(e)}},{key:"isRunning",value:function(){return this._is_running}},{key:"findObjIndex",value:function(e){for(var t=0;t<(null===(a=this._objStates)||void 0===a?void 0:a.length);++t){var a;if(this._objStates[t].name===e)return t}throw new Error("Object with name ".concat(e," not found."))}},{key:"findParamIndex",value:function(e){for(var t=0;t<(null===(a=this._systemParams)||void 0===a?void 0:a.length);++t){var a;if(this._systemParams[t].id===e)return t}throw new Error("Parameter with name ".concat(e," not found."))}},{key:"historicalData",value:function(){return{time:this._ts}}}]),e}(),Ne=[{category:"GENERAL",name:"\u91cd\u529b\u52a0\u901f\u5ea6",id:"gravitational_acceleration",parameterType:"SLIDER_FLOAT",value:9.8,minValue:0,maxValue:100},{category:"GENERAL",name:"\u30dc\u30fc\u30eb\u306e\u534a\u5f84",id:"ball_radius",parameterType:"SLIDER_FLOAT",value:.5,minValue:.1,maxValue:10},{category:"GENERAL",name:"\u7a7a\u6c17\u62b5\u6297\u4fc2\u6570",id:"air_resistance_coefficient",parameterType:"SLIDER_FLOAT",value:0,minValue:0,maxValue:10},{category:"GENERAL",name:"\u8cea\u91cf",id:"ball_mass",parameterType:"SLIDER_FLOAT",value:1,minValue:.1,maxValue:50}],Fe=function(e){Object(Ce.a)(a,e);var t=Object(ke.a)(a);function a(){var e;return Object(ve.a)(this,a),(e=t.call(this,Pe,Ne)).reset(),e}return Object(ge.a)(a,[{key:"_update",value:function(e){this._is_running}},{key:"getStates",value:function(e){if(void 0!==e)throw new Error("Method not implemented.");return this._objStates}},{key:"reset",value:function(){Object(Le.a)(Object(Ae.a)(a.prototype),"reset",this).call(this)}},{key:"historicalData",value:function(){return Object(Le.a)(Object(Ae.a)(a.prototype),"historicalData",this).call(this)}}]),a}(De),Me=function(e){var t=Object(n.useState)(new Fe),a=Object(u.a)(t,2),o=a[0],r=(a[1],i.a.useContext(re));r.onUpdate=function(e){o.update(e)},void 0!==r.setSimulator&&r.setSimulator(o);var s=_e(Pe);return s.map((function(e){ye(r,e)})),console.log(s),Object(n.useEffect)((function(){return function(){console.log("clearing all"),o.stop(),r.onUpdate=void 0,void 0!==r.setSimulator&&r.setSimulator(void 0)}}),[o]),Object(Z.jsx)("div",{children:Object(Z.jsx)(Se,{})})},He=["SCATTER_2D","SCATTER_3D","LINE_2D","LINE_3D","HISTOGRAM"],Be=a(76),ze=a(149),Ve=(a(145).a.div(Ie||(Ie=Object(Be.a)(["\n  // position: fixed;\n  top: 0;\n  right: 0;\n  width: 40%;\n"]))),function(e){var t=i.a.useContext(ce),a={labels:["Scatter"],datasets:[{label:"data",fill:!0,backgroundColor:"rgba(75,192,192,0.4)",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:1,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:2,pointHitRadius:5,data:e.data}]};return Object(Z.jsx)(ze.a,{data:a,options:{responsive:!0,legend:{display:!0},animation:{duration:0}},redraw:!0,ref:function(a){if(void 0!==t.chartRefs&&void 0!==t.setChartRefs){var n=t.chartRefs;n[e.tag]=a,t.setChartRefs(n),console.log(n)}}})}),Ue=function(e,t,a,n,i,o){var r=[];return void 0!==a&&void 0!==n&&void 0!==i?r=Xe(t,a,n,i):void 0!==a&&void 0!==n&&(r=Xe(t,a,n)),"SCATTER_2D"===e?Object(Z.jsx)(Ve,{data:r,tag:o}):Object(Z.jsx)("div",{style:{color:"#FF0000"},children:"Not Implemented"})},Ye=function(e,t,a,n,i,o,r,s,c,l){if(0===t)return Object(Z.jsx)(j.a,{container:!0,spacing:0,direction:"row",children:Object(Z.jsxs)(j.a,{item:!0,xs:4,children:[Object(Z.jsx)(x.a,{htmlFor:"chart-type-select",children:"Chart Type"}),Object(Z.jsxs)(m.a,{onChange:function(e){n(e.target.value)},label:"chart_type",value:a,variant:"outlined",style:{height:"30px",fontSize:"0.7em"},children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),He.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))]})]})});var d=12/(t+1),h=function(t,a,n){return Object(Z.jsx)(m.a,{onChange:function(e){n(e.target.value)},label:t,value:a,variant:"outlined",style:{height:"30px"},children:e.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))})};return Object(Z.jsxs)(j.a,{container:!0,spacing:0,direction:"row",children:[Object(Z.jsxs)(j.a,{item:!0,xs:d,children:[Object(Z.jsx)(x.a,{htmlFor:"chart-type-select",children:"Chart Type"}),Object(Z.jsxs)(m.a,{onChange:function(e){n(e.target.value)},label:"chart_type",value:a,variant:"outlined",style:{height:"30px"},children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),He.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))]})]}),Object(Z.jsxs)(j.a,{item:!0,xs:d,children:[Object(Z.jsx)(x.a,{htmlFor:"chart-type-select",children:"X"}),h("variable_x",i,s)]}),function(){if("HISTOGRAM"!==a)return Object(Z.jsxs)(j.a,{item:!0,xs:d,children:[Object(Z.jsx)(x.a,{htmlFor:"chart-type-select",children:"Y"}),h("variable_y",o,c)]})}(),function(){if(3===t)return Object(Z.jsxs)(j.a,{item:!0,xs:d,children:[Object(Z.jsx)(x.a,{htmlFor:"chart-type-select",children:"Z"}),h("variable_z",r,l)]})}()]})},Xe=function(e,t,a,n){return e[t].map((function(t,i){var o={};return o.x=t,a&&(o.y=e[a][i]),n&&(o.z=e[n][i]),o}))},Ge=function(e){var t=Object(n.useState)("SCATTER_2D"),a=Object(u.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)(e.variables[0]),c=Object(u.a)(s,2),l=c[0],d=c[1],h=Object(n.useState)(e.variables[0]),b=Object(u.a)(h,2),p=b[0],j=b[1],m=Object(n.useState)(e.variables[0]),v=Object(u.a)(m,2),g=v[0],x=v[1],f=i.a.useContext(ce),O=function(e){return null===e||""===e?0:"LINE_3D"===e||"SCATTER_3D"===e?3:"HISTOGRAM"===e?1:2}(o);void 0!==f&&void 0!==f.onSceneUpdateChartCallbacks&&(f.onSceneUpdateChartCallbacks[e.tag]=function(t,a){if(void 0!==f&&void 0!==f.chartRefs&&f.chartRefs[e.tag]&&void 0!==a){var n=[];void 0!==l&&void 0!==p&&void 0!==g?n=Xe(a.historicalData(),l,p,g):void 0!==l&&void 0!==p&&(n=Xe(a.historicalData(),l,p)),f.chartRefs[e.tag].data.datasets[0].data=n,f.chartRefs[e.tag].update()}});return Object(Z.jsxs)("div",{children:[Ye(e.variables,O,o,r,l,p,g,d,j,x),Ue(o,e.data,l,p,g,e.tag)]})},Ze=[{category:"GENERAL",name:"\u91cd\u529b\u52a0\u901f\u5ea6",id:"gravitational_acceleration",parameterType:"SLIDER_FLOAT",value:9.8,minValue:0,maxValue:100},{category:"GENERAL",name:"\u521d\u671f\u4f4d\u7f6e(\u9ad8\u3055)",id:"initial_height",parameterType:"NUMBER_IMPUT",value:6},{category:"GENERAL",name:"\u5730\u9762\u306e\u9ad8\u3055",id:"ground_height",parameterType:"SLIDER_FLOAT",value:0,minValue:-40,maxValue:40},{category:"GENERAL",name:"\u30dc\u30fc\u30eb\u306e\u534a\u5f84",id:"ball_radius",parameterType:"SLIDER_FLOAT",value:.5,minValue:.1,maxValue:10},{category:"GENERAL",name:"\u5730\u9762\u3068\u306e\u53cd\u767a\u4fc2\u6570",id:"restitution_coefficient",parameterType:"SLIDER_FLOAT",value:.8,minValue:0,maxValue:1},{category:"GENERAL",name:"\u7a7a\u6c17\u62b5\u6297\u4fc2\u6570",id:"air_resistance_coefficient",parameterType:"SLIDER_FLOAT",value:0,minValue:0,maxValue:10},{category:"GENERAL",name:"\u30dc\u30fc\u30eb\u8cea\u91cf",id:"ball_mass",parameterType:"SLIDER_FLOAT",value:1,minValue:.1,maxValue:50}],We=[{name:"ball1",objType:"sphere",pos:new O.E(0,5,0),vel:new O.E(0,0,0),rotation:new O.E(0,0,0),scale:new O.E(.5,.5,.5),color:"#FF0000",mass:1,opacity:.8},{name:"ground1",objType:"plane",pos:new O.E(0,0,0),vel:new O.E(0,0,0),rotation:new O.E(-.5*Math.PI,0,0),scale:new O.E(20,1,20),color:"#0xffffff",mass:1,opacity:.6,textureFilepath:"https://threejsfundamentals.org/threejs/resources/images/wall.jpg"}],Ke=function(e){Object(Ce.a)(a,e);var t=Object(ke.a)(a);function a(){var e;return Object(ve.a)(this,a),(e=t.call(this,We,Ze))._ballObjIdx=void 0,e._groundObjIdx=void 0,e._gaCoefIdx=void 0,e._ballRadiusIdx=void 0,e._groundHeightIdx=void 0,e._restitutionCoeffIdx=void 0,e._airRessistanceCoefIdx=void 0,e._initialHeightIdx=void 0,e._massIdx=void 0,e._ballPosys=[],e._ballVelys=[],e._energies=[],e._ballObjIdx=e.findObjIndex("ball1"),e._groundObjIdx=e.findObjIndex("ground1"),e._gaCoefIdx=e.findParamIndex("gravitational_acceleration"),e._groundHeightIdx=e.findParamIndex("ground_height"),e._ballRadiusIdx=e.findParamIndex("ball_radius"),e._restitutionCoeffIdx=e.findParamIndex("restitution_coefficient"),e._airRessistanceCoefIdx=e.findParamIndex("air_resistance_coefficient"),e._initialHeightIdx=e.findParamIndex("initial_height"),e._massIdx=e.findParamIndex("ball_mass"),e.reset(),e}return Object(ge.a)(a,[{key:"_update",value:function(e){if(this._is_running){var t=this._systemParams[this._massIdx].value;this._objStates[this._ballObjIdx].vel.y+=e*this.gravitationalForce()/t,this._objStates[this._ballObjIdx].pos.y+=e*this._objStates[this._ballObjIdx].vel.y,this._objStates[this._ballObjIdx].pos.x+=e*this._objStates[this._ballObjIdx].vel.x,this._objStates[this._ballObjIdx].pos.z+=e*this._objStates[this._ballObjIdx].vel.z;var a=this._systemParams[this._ballRadiusIdx].value,n=this._systemParams[this._groundHeightIdx].value,i=this._systemParams[this._restitutionCoeffIdx].value;this._objStates[this._ballObjIdx].pos.y-a<n&&(this._objStates[this._ballObjIdx].pos.y=n+a,this._objStates[this._ballObjIdx].vel.y*=-i),this._ballPosys.push(this._objStates[this._ballObjIdx].pos.y),this._ballPosys.length>this.MAX_QUEUE&&this._ballPosys.shift(),this._ballVelys.push(this._objStates[this._ballObjIdx].vel.y),this._ballVelys.length>this.MAX_QUEUE&&this._ballVelys.shift(),this._energies.push(this.energy()),this._energies.length>this.MAX_QUEUE&&this._energies.shift()}}},{key:"getStates",value:function(e){if(void 0!==e)throw new Error("Method not implemented.");return this._objStates}},{key:"getBallHeight",value:function(){return this._objStates[this._ballObjIdx].pos.y}},{key:"getGroundHeight",value:function(){return this._systemParams[this._groundHeightIdx].value}},{key:"getBallRadius",value:function(){return this._systemParams[this._ballRadiusIdx].value}},{key:"gravitationalForce",value:function(){return-this._systemParams[this._massIdx].value*this._systemParams[this._gaCoefIdx].value-this._systemParams[this._airRessistanceCoefIdx].value*Math.pow(this._objStates[this._ballObjIdx].vel.y,2)}},{key:"energy",value:function(){var e=this._systemParams[this._massIdx].value,t=this._systemParams[this._gaCoefIdx].value;return.5*e*Math.pow(this._objStates[this._ballObjIdx].vel.y,2)+e*t*this._objStates[this._ballObjIdx].pos.y}},{key:"reset",value:function(){Object(Le.a)(Object(Ae.a)(a.prototype),"reset",this).call(this),void 0!==this._ballObjIdx&&(this._objStates[this._ballObjIdx].pos.y=parseFloat(this._systemParams[this._initialHeightIdx].value),this._objStates[this._ballObjIdx].vel.y=0),this._ballVelys.splice(0),this._ballPosys.splice(0)}},{key:"historicalData",value:function(){var e=Object(Le.a)(Object(Ae.a)(a.prototype),"historicalData",this).call(this);return e.ball_pos_y=this._ballPosys,e.ball_vel_y=this._ballVelys,e.energy=this._energies,e}}]),a}(De),qe=function(e){var t=Object(n.useState)(new Ke),a=Object(u.a)(t,2),o=a[0],r=(a[1],Object(n.useState)(null)),s=Object(u.a)(r,2),c=s[0],l=s[1],d=Object(n.useState)(null),h=Object(u.a)(d,2),b=h[0],p=h[1],j=i.a.useContext(re);j.onUpdate=function(e){if(o.update(e),null!==c&&null!==(null===c||void 0===c?void 0:c.obj)){var t=o.getBallHeight();c.obj.position.y=t,c.obj.scale.y=2*o.getBallRadius(),c.obj.scale.x=2*o.getBallRadius(),c.obj.scale.z=2*o.getBallRadius()}null!==b&&null!==(null===b||void 0===b?void 0:b.obj)&&(b.obj.position.y=o.getGroundHeight())},void 0!==j.setSimulator&&j.setSimulator(o);var m=_e(We);return m.map((function(e){ye(j,e)})),console.log(m),Object(n.useEffect)((function(){return l(Ee(j,"ball1")),p(Ee(j,"ground1")),function(){console.log("clearing all"),o.stop(),j.onUpdate=void 0,void 0!==j.setSimulator&&j.setSimulator(void 0)}}),[o,c]),Object(Z.jsx)("div",{children:Object(Z.jsx)(Se,{})})},Qe=function(e){var t=i.a.useState(["CoordinateAxisScene","TestBoxPlaneScene","BouncingBallScene","FlowFieldScene"]),a=Object(u.a)(t,2),o=a[0],r=(a[1],i.a.useState("BouncingBallScene")),s=Object(u.a)(r,2),c=s[0],l=s[1],d=i.a.useState([]),h=Object(u.a)(d,2),y=h[0],_=h[1],E=i.a.useState(),w=Object(u.a)(E,2),S=w[0],T=w[1],P=i.a.useState(function(){var e=new O.q(45,.55*window.innerWidth/(.6*window.innerHeight),.1,1e3);return e.position.x=10,e.position.y=10,e.position.z=10,e}()),R=Object(u.a)(P,2),I=R[0],L=R[1],A=i.a.useState("RUN"),C=Object(u.a)(A,2),k=C[0],D=C[1],N=i.a.useState([]),F=Object(u.a)(N,2),M=F[0],H=F[1],B=i.a.useState({}),z=Object(u.a)(B,2),V=z[0],U=z[1],Y=i.a.useState({}),X=Object(u.a)(Y,2),G=X[0],W=X[1];Object(n.useEffect)((function(){if(S){var e=S.historicalData(),t=Object.keys(e);H(t),console.log(t)}}),[S]);var K,Q=0;return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(q,{}),Object(Z.jsx)(b.a,{maxWidth:"xl",children:Object(Z.jsxs)(j.a,{container:!0,spacing:2,direction:"row",alignItems:"center",children:[Object(Z.jsxs)(j.a,{item:!0,xs:12,md:10,lg:10,style:{padding:"0px 0px 0px 60px"},children:[Object(Z.jsx)(x.a,{htmlFor:"scene-select",children:"SCENE"}),Object(Z.jsxs)(m.a,{onChange:function(e){_([]),T(void 0),H([]),l(e.target.value)},label:"Scene",value:c,variant:"outlined",children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),Object(Z.jsx)(g.a,{style:{color:"#0000FF"},children:"--Frontend Calculated--"}),o.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})})),Object(Z.jsx)(g.a,{style:{color:"#0000FF"},children:"--Backend Calculated--"})]})]}),Object(Z.jsxs)(j.a,{item:!0,xs:12,md:2,lg:2,style:{padding:"0px 60px 0px 0px"},children:[Object(Z.jsx)(f.a,{variant:"contained",onClick:function(e){void 0!==S&&(console.log("run button"),S.isRunning()?(S.stop(),D("RUN")):(S.start(),D("STOP")))},style:{marginRight:"10px"},children:k}),Object(Z.jsx)(f.a,{variant:"contained",onClick:function(e){void 0!==S&&(S.reset(),D("RUN"))},children:"Reset"})]}),Object(Z.jsx)(j.a,{item:!0,xs:12,md:8,lg:8,children:Object(Z.jsxs)(p.a,{style:{padding:"10px 50px 30px",margin:"0px 0px 0px 40px",height:550},children:["3DViewer / ".concat(c),Object(Z.jsx)(re.Provider,{value:{width:.55*window.innerWidth,height:.6*window.innerHeight,camera:I,setCamera:L,objects:y,simulator:S,setSimulator:T,onUpdateChart:function(e){Q+=1,S&&S.isRunning()&&Q%10==0&&(G.chart1&&G.chart1(e,S),G.chart2&&G.chart2(e,S),G.chart3&&G.chart3(e,S))}},children:"CoordinateAxisScene"===c?Object(Z.jsx)(Se,{}):"TestBoxPlaneScene"===c?Object(Z.jsx)(Te,{}):"BouncingBallScene"===c?Object(Z.jsx)(qe,{}):"FlowFieldScene"===c?Object(Z.jsx)(Me,{}):void 0})]})}),Object(Z.jsx)(j.a,{item:!0,xs:12,md:4,lg:4,children:Object(Z.jsx)(p.a,{style:{padding:"5px 5px 5px",margin:"0px 40px 0px 0px",height:550},children:Object(Z.jsx)(se.Provider,{value:{params:(K=c,"BouncingBallScene"===K?Ze:"FlowFieldScene"===K?Ne:[]),onParameterChaneged:function(e,t){console.log("param changed : ".concat(t)),console.log(e),void 0!==S&&t&&(console.log("Setting params"),S.setSystemParams(e))}},children:Object(Z.jsx)(pe,{})})})}),Object(Z.jsxs)(ce.Provider,{value:{onSceneUpdateChartCallbacks:G,setOnSceneUpdateChartCallbacks:W,chartRefs:V,setChartRefs:U},children:[Object(Z.jsx)(j.a,{item:!0,xs:4,children:Object(Z.jsx)(p.a,{style:{padding:"10px 10px 10px",margin:"0px 0px 0px 40px",height:300},children:Object(Z.jsx)(Ge,{data:function(){if(S){var e=S.historicalData();return console.log(e),e}return{}}(),variables:M,tag:"chart1"})})}),Object(Z.jsx)(j.a,{item:!0,xs:4,children:Object(Z.jsx)(p.a,{style:{padding:"10px 50px 10px",margin:"0px 0px 0px 0px",height:300},children:Object(Z.jsx)(Ge,{data:function(){if(S){var e=S.historicalData();return console.log(e),e}return{}}(),variables:M,tag:"chart2"})})}),Object(Z.jsx)(j.a,{item:!0,xs:4,children:Object(Z.jsx)(p.a,{style:{padding:"10px 10px 10px",margin:"0px 40px 0px 0px",height:300},children:Object(Z.jsx)(Ge,{data:S?S.historicalData():{},variables:M,tag:"chart3"})})})]})]})})]})};var Je=function(){return Object(Z.jsx)("div",{className:"App",children:Object(Z.jsx)(s.a,{theme:h,children:Object(Z.jsxs)(c.a,{basename:"/SDVVR",children:[Object(Z.jsx)(l.c,{children:Object(Z.jsx)(l.a,{path:"/",component:Qe,exact:!0})}),Object(Z.jsx)(l.c,{children:Object(Z.jsx)(l.a,{path:"/simulation",component:Qe,exact:!0})})]})})})},$e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,297)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),o(e),r(e)}))};r.a.render(Object(Z.jsx)(i.a.StrictMode,{children:Object(Z.jsx)(Je,{})}),document.getElementById("root")),$e()}},[[190,1,2]]]);
//# sourceMappingURL=main.15a98d48.chunk.js.map
(this.webpackJsonpsdvvr=this.webpackJsonpsdvvr||[]).push([[0],{175:function(e,t,a){},189:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(28),s=a.n(o),r=(a(175),a(278)),c=a(101),l=a(31),d=a(147),h=Object(d.a)({palette:{primary:{light:"#757ce8",main:"#d32f2f",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#651fff",dark:"#ba000d",contrastText:"#000"},type:"dark"}}),u=a(18),b=a(277),j=a(192),p=a(274),m=a(279),v=a(276),x=a(292),g=a(290),f=a(291),O=a(14),y=a(10),_=a(36),E=a(7),w=a(257),S=a(289),T=a(41),P=a(287),I=a(259),R=a(261),C=a(262),A=a(265),k=a(108),L=a(264),N=a(263),D=a(137),M=a.n(D),z=a(138),H=a.n(z),F=a(139),B=a.n(F),V=a(193),U=a(266),Y=a(267),X=a(141),G=a.n(X),Z=a(2),W=240,K=Object(w.a)((function(e){return Object(S.a)({root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(W,"px)"),marginLeft:W,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:W,flexShrink:0},drawerPaper:{width:W},drawerHeader:Object(_.a)(Object(_.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(2),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}})}));function q(){var e=K(),t=Object(T.a)(),a=i.a.useState(!1),n=Object(u.a)(a,2),o=n[0],s=n[1];return Object(Z.jsxs)("div",{className:e.root,children:[Object(Z.jsx)(I.a,{}),Object(Z.jsx)(R.a,{position:"fixed",className:Object(E.a)(e.appBar,Object(y.a)({},e.appBarShift,o)),children:Object(Z.jsxs)(C.a,{children:[Object(Z.jsx)(N.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(E.a)(e.menuButton,o&&e.hide),children:Object(Z.jsx)(M.a,{})}),Object(Z.jsx)(k.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(Z.jsxs)(P.a,{className:e.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:e.drawerPaper},children:[Object(Z.jsx)("div",{className:e.drawerHeader,children:Object(Z.jsx)(N.a,{onClick:function(){s(!1)},children:"ltr"===t.direction?Object(Z.jsx)(H.a,{}):Object(Z.jsx)(B.a,{})})}),Object(Z.jsx)(L.a,{}),Object(Z.jsx)(A.a,{children:Object(Z.jsx)(c.b,{to:"/physical_simulation",style:{color:"#FFF"},children:Object(Z.jsxs)(V.a,{button:!0,children:[Object(Z.jsx)(U.a,{children:Object(Z.jsx)(G.a,{})}),Object(Z.jsx)(Y.a,{primary:"Physical Simulation"})]},"main_key")})}),Object(Z.jsx)(L.a,{})]}),Object(Z.jsx)("main",{className:Object(E.a)(e.content,Object(y.a)({},e.contentShift,o)),children:Object(Z.jsx)("div",{className:e.drawerHeader})})]})}var Q=a(149),J=a(282),$=a(273),ee=a(281),te=a(280),ae=a(286),ne=a(283),ie=a(71),oe=a.n(ie),se=i.a.createContext({}),re=i.a.createContext({}),ce=i.a.createContext({}),le=["children","value","index"];function de(e){var t=e.children,a=e.value,n=e.index,i=Object(Q.a)(e,le);return Object(Z.jsx)("div",Object(_.a)(Object(_.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),{},{children:a===n&&Object(Z.jsx)(ee.a,{p:0,children:Object(Z.jsx)(k.a,{children:t})})}))}function he(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ue=Object(w.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}})),be=function(e,t,a,n){var i=e.filter((function(e){return e.category===t})),o=function(i){console.log("new value : ".concat(t," : ").concat(i.target.name," : ").concat(i.target.value));for(var o=0;o<e.length;++o)if(e[o].category===t&&e[o].id===i.target.name){e[o].value=i.target.value,void 0!==a.onParameterChaneged&&a.onParameterChaneged(e,n);break}};return i.map((function(e){return Object(Z.jsxs)(j.a,{style:{marginBottom:"10px",paddingTop:"20px",paddingLeft:"20px",paddingRight:"25px"},children:[Object(Z.jsx)(k.a,{children:e.name}),function(){if("NUMBER_IMPUT"===e.parameterType)return Object(Z.jsx)(te.a,{id:e.id,label:e.id,name:e.id,placeholder:e.value,defaultValue:e.value,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",onChange:o});if("SLIDER_FLOAT"===e.parameterType){var t=e.maxValue?e.maxValue:0,a=e.minValue?e.minValue:0;return Object(Z.jsx)(ae.a,{name:e.id,defaultValue:e.value,min:a,max:t,step:.002*(t-a),"aria-label":"Default",valueLabelDisplay:"auto",onChange:o})}return"SLIDER_INT"===e.parameterType?Object(Z.jsx)(ae.a,{name:e.id,defaultValue:e.value,min:e.minValue,max:e.maxValue,"aria-label":"Default",valueLabelDisplay:"auto",onChange:o}):void 0}()]})}))},je=function(e){var t=i.a.useContext(re),a=Object(n.useState)(!0),o=Object(u.a)(a,2),s=o[0],r=o[1],c=(ue(),i.a.useState(0)),l=Object(u.a)(c,2),d=l[0],h=l[1],b=oe()(t.params),j=Object(n.useState)(b),p=Object(u.a)(j,2),m=p[0];p[1];console.log(b),console.log(m);var v=Array.from(new Set(t.params.map((function(e){return e.category}))).values());return console.log(v),Object(Z.jsxs)("div",{children:["Parameter Settings",Object(Z.jsx)(R.a,{position:"static",children:Object(Z.jsxs)(J.a,{value:d,onChange:function(e,t){h(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"simple tabs example",style:{minHeight:"10%"},children:[v.map((function(e,t){return Object(Z.jsx)($.a,Object(_.a)(Object(_.a)({label:e},he(t)),{},{style:{minWidth:"20%",minHeight:"10%"}}))})),Object(Z.jsx)($.a,Object(_.a)(Object(_.a)({label:"Params1"},he(v.length)),{},{style:{minWidth:"20%",minHeight:"10%"}}))]})}),v.map((function(e,a){return Object(Z.jsx)(de,{value:d,index:a,children:Object(Z.jsx)("div",{style:{overflowY:"scroll",height:.52*window.innerHeight,margin:"0px"},children:be(t.params,e,t,s)})})})),Object(Z.jsx)(de,{value:d,index:v.length,children:Object(Z.jsxs)("div",{style:{overflowY:"scroll",height:.52*window.innerHeight,margin:"0px"},children:[Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(f.a,{children:"tab111"})})]})}),Object(Z.jsx)(ne.a,{checked:s,id:"auto_apply_check",onChange:function(e){r(e.target.checked)}}),"Auto Apply",Object(Z.jsx)(f.a,{variant:"contained",style:{float:"right",marginTop:"10px"},children:"Apply"})]})},pe=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new O.z,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:O.i.ROTATE,MIDDLE:O.i.DOLLY,RIGHT:O.i.PAN},this.touches={ONE:O.v.ROTATE,TWO:O.v.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Y),this._domElementKeyEvents=e},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(n),a.update(),r=s.NONE},this.update=function(){var t=new O.z,i=(new O.o).setFromUnitVectors(e.up,new O.z(0,1,0)),o=i.clone().invert(),j=new O.z,p=new O.o,m=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(i),l.setFromVector3(t),a.autoRotate&&r===s.NONE&&w(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(l.theta+=d.theta*a.dampingFactor,l.phi+=d.phi*a.dampingFactor):(l.theta+=d.theta,l.phi+=d.phi);var v=a.minAzimuthAngle,x=a.maxAzimuthAngle;return isFinite(v)&&isFinite(x)&&(v<-Math.PI?v+=m:v>Math.PI&&(v-=m),x<-Math.PI?x+=m:x>Math.PI&&(x-=m),l.theta=v<=x?Math.max(v,Math.min(x,l.theta)):l.theta>(v+x)/2?Math.max(v,l.theta):Math.min(x,l.theta)),l.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=h,l.radius=Math.max(a.minDistance,Math.min(a.maxDistance,l.radius)),!0===a.enableDamping?a.target.addScaledVector(u,a.dampingFactor):a.target.add(u),t.setFromSpherical(l),t.applyQuaternion(o),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(d.theta*=1-a.dampingFactor,d.phi*=1-a.dampingFactor,u.multiplyScalar(1-a.dampingFactor)):(d.set(0,0,0),u.set(0,0,0)),h=1,!!(b||j.distanceToSquared(a.object.position)>c||8*(1-p.dot(a.object.quaternion))>c)&&(a.dispatchEvent(n),j.copy(a.object.position),p.copy(a.object.quaternion),b=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",W),a.domElement.removeEventListener("pointerdown",F),a.domElement.removeEventListener("wheel",U),a.domElement.removeEventListener("touchstart",X),a.domElement.removeEventListener("touchend",Z),a.domElement.removeEventListener("touchmove",G),a.domElement.ownerDocument.removeEventListener("pointermove",B),a.domElement.ownerDocument.removeEventListener("pointerup",V),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",Y)};var a=this,n={type:"change"},i={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},r=s.NONE,c=1e-6,l=new O.r,d=new O.r,h=1,u=new O.z,b=!1,j=new O.y,p=new O.y,m=new O.y,v=new O.y,x=new O.y,g=new O.y,f=new O.y,y=new O.y,_=new O.y;function E(){return Math.pow(.95,a.zoomSpeed)}function w(e){d.theta-=e}function S(e){d.phi-=e}var T=function(){var e=new O.z;return function(t,a){e.setFromMatrixColumn(a,0),e.multiplyScalar(-t),u.add(e)}}(),P=function(){var e=new O.z;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),I=function(){var e=new O.z;return function(t,n){var i=a.domElement;if(a.object.isPerspectiveCamera){var o=a.object.position;e.copy(o).sub(a.target);var s=e.length();s*=Math.tan(a.object.fov/2*Math.PI/180),T(2*t*s/i.clientHeight,a.object.matrix),P(2*n*s/i.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(T(t*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),P(n*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function R(e){a.object.isPerspectiveCamera?h/=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function C(e){a.object.isPerspectiveCamera?h*=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function A(e){j.set(e.clientX,e.clientY)}function k(e){v.set(e.clientX,e.clientY)}function L(e){if(1==e.touches.length)j.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(t,a)}}function N(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,a)}}function D(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+a*a);f.set(0,n)}function M(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}m.subVectors(p,j).multiplyScalar(a.rotateSpeed);var i=a.domElement;w(2*Math.PI*m.x/i.clientHeight),S(2*Math.PI*m.y/i.clientHeight),j.copy(p)}function z(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}g.subVectors(x,v).multiplyScalar(a.panSpeed),I(g.x,g.y),v.copy(x)}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);y.set(0,i),_.set(0,Math.pow(y.y/f.y,a.zoomSpeed)),R(_.y),f.copy(y)}function F(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),a.domElement.focus?a.domElement.focus():window.focus(),e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case O.i.DOLLY:if(!1===a.enableZoom)return;!function(e){f.set(e.clientX,e.clientY)}(e),r=s.DOLLY;break;case O.i.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;k(e),r=s.PAN}else{if(!1===a.enableRotate)return;A(e),r=s.ROTATE}break;case O.i.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;A(e),r=s.ROTATE}else{if(!1===a.enablePan)return;k(e),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&(a.domElement.ownerDocument.addEventListener("pointermove",B),a.domElement.ownerDocument.addEventListener("pointerup",V),a.dispatchEvent(i))}(e)}}function B(e){if(!1!==a.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===a.enabled)return;switch(e.preventDefault(),r){case s.ROTATE:if(!1===a.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),m.subVectors(p,j).multiplyScalar(a.rotateSpeed);var t=a.domElement;w(2*Math.PI*m.x/t.clientHeight),S(2*Math.PI*m.y/t.clientHeight),j.copy(p),a.update()}(e);break;case s.DOLLY:if(!1===a.enableZoom)return;!function(e){y.set(e.clientX,e.clientY),_.subVectors(y,f),_.y>0?R(E()):_.y<0&&C(E()),f.copy(y),a.update()}(e);break;case s.PAN:if(!1===a.enablePan)return;!function(e){x.set(e.clientX,e.clientY),g.subVectors(x,v).multiplyScalar(a.panSpeed),I(g.x,g.y),v.copy(x),a.update()}(e)}}(e)}}function V(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(a.domElement.ownerDocument.removeEventListener("pointermove",B),a.domElement.ownerDocument.removeEventListener("pointerup",V),!1===a.enabled)return;a.dispatchEvent(o),r=s.NONE}()}}function U(e){!1===a.enabled||!1===a.enableZoom||r!==s.NONE&&r!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),a.dispatchEvent(i),function(e){e.deltaY<0?C(E()):e.deltaY>0&&R(E()),a.update()}(e),a.dispatchEvent(o))}function Y(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.keyCode){case a.keys.UP:I(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:I(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:I(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:I(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function X(e){if(!1!==a.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(a.touches.ONE){case O.v.ROTATE:if(!1===a.enableRotate)return;L(e),r=s.TOUCH_ROTATE;break;case O.v.PAN:if(!1===a.enablePan)return;N(e),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(a.touches.TWO){case O.v.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&D(e),a.enablePan&&N(e)}(e),r=s.TOUCH_DOLLY_PAN;break;case O.v.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&D(e),a.enableRotate&&L(e)}(e),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&a.dispatchEvent(i)}}function G(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),r){case s.TOUCH_ROTATE:if(!1===a.enableRotate)return;M(e),a.update();break;case s.TOUCH_PAN:if(!1===a.enablePan)return;z(e),a.update();break;case s.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&H(e),a.enablePan&&z(e)}(e),a.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&H(e),a.enableRotate&&M(e)}(e),a.update();break;default:r=s.NONE}}function Z(e){!1!==a.enabled&&(a.dispatchEvent(o),r=s.NONE)}function W(e){!1!==a.enabled&&e.preventDefault()}a.domElement.addEventListener("contextmenu",W),a.domElement.addEventListener("pointerdown",F),a.domElement.addEventListener("wheel",U),a.domElement.addEventListener("touchstart",X),a.domElement.addEventListener("touchend",Z),a.domElement.addEventListener("touchmove",G),this.update()};(pe.prototype=Object.create(O.g.prototype)).constructor=pe;var me=function(e,t){pe.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=O.i.PAN,this.mouseButtons.RIGHT=O.i.ROTATE,this.touches.ONE=O.v.PAN,this.touches.TWO=O.v.DOLLY_ROTATE};(me.prototype=Object.create(O.g.prototype)).constructor=me;var ve,xe=a(3),ge=a(4),fe=function(){function e(){Object(xe.a)(this,e)}return Object(ge.a)(e,null,[{key:"createButton",value:function(e,t){t&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');var a=document.createElement("button");function n(){a.style.display="",a.style.cursor="auto",a.style.left="calc(50% - 75px)",a.style.width="150px",a.onmouseenter=null,a.onmouseleave=null,a.onclick=null,a.textContent="VR NOT SUPPORTED"}function i(e){e.style.position="absolute",e.style.bottom="20px",e.style.padding="12px 6px",e.style.border="1px solid #fff",e.style.borderRadius="4px",e.style.background="rgba(0,0,0,0.1)",e.style.color="#fff",e.style.font="normal 13px sans-serif",e.style.textAlign="center",e.style.opacity="0.5",e.style.outline="none",e.style.zIndex="999"}if("xr"in navigator)return a.id="VRButton",a.style.display="none",i(a),navigator.xr.isSessionSupported("immersive-vr").then((function(t){t?function(){var t=null;function n(n){n.addEventListener("end",i),e.xr.setSession(n),a.textContent="EXIT VR",t=n}function i(){t.removeEventListener("end",i),a.textContent="ENTER VR",t=null}a.style.display="",a.style.cursor="pointer",a.style.left="calc(50% - 50px)",a.style.width="100px",a.textContent="ENTER VR",a.onmouseenter=function(){a.style.opacity="1.0"},a.onmouseleave=function(){a.style.opacity="0.5"},a.onclick=function(){null===t?navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking"]}).then(n):t.end()}}():n()})),a;var o=document.createElement("a");return!1===window.isSecureContext?(o.href=document.location.href.replace(/^http:/,"https:"),o.innerHTML="WEBXR NEEDS HTTPS"):(o.href="https://immersiveweb.dev/",o.innerHTML="WEBXR NOT AVAILABLE"),o.style.left="calc(50% - 90px)",o.style.width="180px",o.style.textDecoration="none",i(o),o}}]),e}(),Oe=function(){function e(){Object(xe.a)(this,e)}return Object(ge.a)(e,null,[{key:"createSphere",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2284834,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:O.h,r=arguments.length>7?arguments[7]:void 0,c=n,l=new O.q(c,20,20),d={color:o,opacity:i,transparent:!0,side:s,depthWrite:!1};void 0!==r&&(d.map=(new O.w).load(r));var h=new O.k(d),u=new O.j(l,h);return u.position.x=e,u.position.y=t,u.position.z=a,u.castShadow=!0,u}},{key:"createBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:16711680,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:O.h,l=arguments.length>9?arguments[9]:void 0,d={color:r,opacity:s,transparent:!0,side:c,depthWrite:!1};void 0!==l&&(d.map=(new O.w).load(l));var h=new O.j(new O.c(n,i,o),new O.l(d));return h.receiveShadow=!0,h.position.set(e,t,a),h}},{key:"createPlane",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-.5*Math.PI,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:16777215,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:3,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:O.f,h=arguments.length>11?arguments[11]:void 0,u=new O.n(l,c,1,1),b={color:r,opacity:s,transparent:!0,side:d};void 0!==h&&(b.map=(new O.w).load(h));var j=new O.l(b),p=new O.j(u,j);return p.receiveShadow=!0,p.castShadow=!0,p.rotation.set(n,i,o),p.position.set(e,t,a),p}},{key:"createArrow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:-Math.PI,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:.8,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:65280,u=arguments.length>12&&void 0!==arguments[12]?arguments[12]:.3,b=arguments.length>13&&void 0!==arguments[13]?arguments[13]:.3,j=new O.z(i,o,s),p=new O.z(t,a,n),m=new O.b(j,p,d,h,u,b);return m.name=e,m.rotation.x=r,m.rotation.y=c,m.rotation.z=l,m}},{key:"createSprite",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:238,o=new O.u({color:i}),s=new O.t(o);return s.position.x=e,s.position.y=t,s.position.z=a,s.scale.x=n,s.scale.y=n,s.scale.z=n,s}},{key:"createTorusKnot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.4,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:64,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:3,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:6724095,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:.5,u=arguments.length>12&&void 0!==arguments[12]?arguments[12]:O.h,b=arguments.length>13?arguments[13]:void 0,j=new O.x(n,i,o,s,r,c),p={color:d,opacity:l,transparent:!0,side:u,roughness:h};void 0!==b&&(p.map=(new O.w).load(b));var m=new O.l(p),v=new O.j(j,m);return v.receiveShadow=!0,v.castShadow=!0,v.position.set(e,t,a),v}}]),e}(),ye=function(e,t){var a;if(void 0!==e.objects){for(var n=0;n<(null===(i=e.objects)||void 0===i?void 0:i.length);n++){var i;if(e.objects[n].tag===t.tag)return}null===(a=e.objects)||void 0===a||a.push(t)}},_e=function(e,t){if(void 0===e.objects)return null;for(var a=0;a<(null===(n=e.objects)||void 0===n?void 0:n.length);++a){var n;if(e.objects[a].tag===t)return e.objects[a]}return null},Ee=function(e){console.log("ThreeBaseScene");var t=i.a.useContext(se),a=void 0===t.lookAt?new O.z(0,0,0):new O.z(t.lookAt.x,t.lookAt.y,t.lookAt.z),o=i.a.useState(null),r=Object(u.a)(o,2),c=r[0],l=r[1],d=i.a.useState(new O.p),h=Object(u.a)(d,2),b=h[0],j=(h[1],i.a.useState(a)),p=Object(u.a)(j,2),m=p[0],v=(p[1],i.a.useState(new O.A({antialias:!0}))),x=Object(u.a)(v,2),g=x[0],f=(x[1],i.a.useState(void 0===t.bgColor?new O.e("#b4bad2"):t.bgColor)),y=Object(u.a)(f,2),_=y[0],E=(y[1],i.a.useState(new O.d)),w=Object(u.a)(E,2),S=w[0],T=(w[1],i.a.useState(0)),P=Object(u.a)(T,2),I=P[0],R=P[1],C=i.a.useState(null),A=Object(u.a)(C,2),k=(A[0],A[1]);t.camera.lookAt(new O.z(m.x,m.y,m.z)),g.setSize(t.width,t.height),g.setClearColor(_),g.shadowMap.enabled=!0;return Object(n.useEffect)((function(){if(console.log("useeffect"),c){c.appendChild(g.domElement);var e=new pe(t.camera,c);e.target.set(0,0,0),e.update(),k(e)}g.setAnimationLoop((function(){var e;R(I+1),e=S.getDelta(),t.onUpdate&&t.onUpdate(e),t.onUpdateChart&&t.onUpdateChart(e),g.render(b,t.camera)})),s.a.render(Object(Z.jsx)("div",{id:"vr_button"}),document.body.appendChild(fe.createButton(g)))}),[c,S,g,b,t.camera]),Object(n.useEffect)((function(){console.log("useeffect2"),function(){b.remove.apply(b,b.children),t.objects&&t.objects.map((function(e){return b.add(e.obj)}));var e=new O.a(16777215,.5);b.add(e);var a=new O.s(16777215,2,100,Math.PI/4,1);a.position.set(2,7,2),a.castShadow=!0,b.add(a)}()}),[t.objects]),Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{style:{width:t.width,height:t.height},ref:function(e){l(e)}}),Object(Z.jsx)("div",{id:"vr_button"})]})},we=function(e){var t=i.a.useContext(se);return ye(t,{tag:"x_axis",obj:Oe.createArrow("x_axis",0,0,0,1,0,0,.5*Math.PI,0,0,6,16711680,.5,.5),objType:"arrow"}),ye(t,{tag:"y_axis",obj:Oe.createArrow("y_axis",0,0,0,0,1,0,0,.5*Math.PI,0,6,65280,.6,.6),objType:"arrow"}),ye(t,{tag:"z_axis",obj:Oe.createArrow("z_axis",0,0,0,0,0,1,0,0,.5*Math.PI,6,255,.6,.6),objType:"arrow"}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Ee,{})})},Se=function(e){var t=i.a.useContext(se);return ye(t,{tag:"box1",obj:Oe.createTorusKnot(0,.2,0),objType:"box"}),ye(t,{tag:"plane1",obj:Oe.createPlane(0,0,0,-.5*Math.PI,0,0,.6,16777215,10,10,O.f,"https://threejsfundamentals.org/threejs/resources/images/wall.jpg"),objType:"plane"}),Object(Z.jsx)("div",{children:Object(Z.jsx)(we,{})})},Te=["SCATTER_2D","SCATTER_3D","LINE_2D","LINE_3D","HISTOGRAM"],Pe=a(76),Ie=a(148),Re=(a(144).a.div(ve||(ve=Object(Pe.a)(["\n  // position: fixed;\n  top: 0;\n  right: 0;\n  width: 40%;\n"]))),function(e){var t=i.a.useContext(ce),a={labels:["Scatter"],datasets:[{label:"data",fill:!0,backgroundColor:"rgba(75,192,192,0.4)",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:1,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:2,pointHitRadius:5,data:e.data}]};return Object(Z.jsx)(Ie.a,{data:a,options:{responsive:!0,legend:{display:!0},animation:{duration:0}},redraw:!0,ref:function(a){if(void 0!==t.chartRefs&&void 0!==t.setChartRefs){var n=t.chartRefs;n[e.tag]=a,t.setChartRefs(n),console.log(n)}}})}),Ce=function(e,t,a,n,i,o){var s=[];return void 0!==a&&void 0!==n&&void 0!==i?s=ke(t,a,n,i):void 0!==a&&void 0!==n&&(s=ke(t,a,n)),"SCATTER_2D"===e?Object(Z.jsx)(Re,{data:s,tag:o}):Object(Z.jsx)("div",{style:{color:"#FF0000"},children:"Not Implemented"})},Ae=function(e,t,a,n,i,o,s,r,c,l){if(0===t)return Object(Z.jsx)(p.a,{container:!0,spacing:0,direction:"row",children:Object(Z.jsxs)(p.a,{item:!0,xs:4,children:[Object(Z.jsx)(g.a,{htmlFor:"chart-type-select",children:"Chart Type"}),Object(Z.jsxs)(m.a,{onChange:function(e){n(e.target.value)},label:"chart_type",value:a,variant:"outlined",style:{height:"30px",fontSize:"0.7em"},children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),Te.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))]})]})});var d=12/(t+1),h=function(t,a,n){return Object(Z.jsx)(m.a,{onChange:function(e){n(e.target.value)},label:t,value:a,variant:"outlined",style:{height:"30px"},children:e.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))})};return Object(Z.jsxs)(p.a,{container:!0,spacing:0,direction:"row",children:[Object(Z.jsxs)(p.a,{item:!0,xs:d,children:[Object(Z.jsx)(g.a,{htmlFor:"chart-type-select",children:"Chart Type"}),Object(Z.jsxs)(m.a,{onChange:function(e){n(e.target.value)},label:"chart_type",value:a,variant:"outlined",style:{height:"30px"},children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),Te.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})}))]})]}),Object(Z.jsxs)(p.a,{item:!0,xs:d,children:[Object(Z.jsx)(g.a,{htmlFor:"chart-type-select",children:"X"}),h("variable_x",i,r)]}),function(){if("HISTOGRAM"!==a)return Object(Z.jsxs)(p.a,{item:!0,xs:d,children:[Object(Z.jsx)(g.a,{htmlFor:"chart-type-select",children:"Y"}),h("variable_y",o,c)]})}(),function(){if(3===t)return Object(Z.jsxs)(p.a,{item:!0,xs:d,children:[Object(Z.jsx)(g.a,{htmlFor:"chart-type-select",children:"Z"}),h("variable_z",s,l)]})}()]})},ke=function(e,t,a,n){return e[t].map((function(t,i){var o={};return o.x=t,a&&(o.y=e[a][i]),n&&(o.z=e[n][i]),o}))},Le=function(e){var t=Object(n.useState)("SCATTER_2D"),a=Object(u.a)(t,2),o=a[0],s=a[1],r=Object(n.useState)(e.variables[0]),c=Object(u.a)(r,2),l=c[0],d=c[1],h=Object(n.useState)(e.variables[0]),b=Object(u.a)(h,2),j=b[0],p=b[1],m=Object(n.useState)(e.variables[0]),v=Object(u.a)(m,2),x=v[0],g=v[1],f=i.a.useContext(ce),O=function(e){return null===e||""===e?0:"LINE_3D"===e||"SCATTER_3D"===e?3:"HISTOGRAM"===e?1:2}(o);void 0!==f&&void 0!==f.onSceneUpdateChartCallbacks&&(f.onSceneUpdateChartCallbacks[e.tag]=function(t,a){if(void 0!==f&&void 0!==f.chartRefs&&f.chartRefs[e.tag]&&void 0!==a){var n=[];void 0!==l&&void 0!==j&&void 0!==x?n=ke(a.historicalData(),l,j,x):void 0!==l&&void 0!==j&&(n=ke(a.historicalData(),l,j)),f.chartRefs[e.tag].data.datasets[0].data=n,f.chartRefs[e.tag].update()}});return Object(Z.jsxs)("div",{children:[Ae(e.variables,O,o,s,l,j,x,d,p,g),Ce(o,e.data,l,j,x,e.tag)]})},Ne=[{category:"GENERAL",name:"\u91cd\u529b\u52a0\u901f\u5ea6",id:"gravitational_acceleration",parameterType:"SLIDER_FLOAT",value:9.8,minValue:0,maxValue:100},{category:"GENERAL",name:"\u521d\u671f\u4f4d\u7f6e(\u9ad8\u3055)",id:"initial_height",parameterType:"NUMBER_IMPUT",value:6},{category:"GENERAL",name:"\u5730\u9762\u306e\u9ad8\u3055",id:"ground_height",parameterType:"SLIDER_FLOAT",value:0,minValue:-40,maxValue:40},{category:"GENERAL",name:"\u30dc\u30fc\u30eb\u306e\u534a\u5f84",id:"ball_radius",parameterType:"SLIDER_FLOAT",value:.5,minValue:.1,maxValue:10},{category:"GENERAL",name:"\u5730\u9762\u3068\u306e\u53cd\u767a\u4fc2\u6570",id:"restitution_coefficient",parameterType:"SLIDER_FLOAT",value:.8,minValue:0,maxValue:1},{category:"GENERAL",name:"\u7a7a\u6c17\u62b5\u6297\u4fc2\u6570",id:"air_resistance_coefficient",parameterType:"SLIDER_FLOAT",value:0,minValue:0,maxValue:10},{category:"GENERAL",name:"\u30dc\u30fc\u30eb\u8cea\u91cf",id:"ball_mass",parameterType:"SLIDER_FLOAT",value:1,minValue:.1,maxValue:50}],De=[{name:"ball1",objType:"sphere",pos:new O.z(0,5,0),vel:new O.z(0,0,0),rotation:new O.z(0,0,0),scale:new O.z(.5,.5,.5),color:"#FF0000",mass:1,opacity:.8},{name:"ground1",objType:"plane",pos:new O.z(0,0,0),vel:new O.z(0,0,0),rotation:new O.z(-.5*Math.PI,0,0),scale:new O.z(20,1,20),color:"#0xffffff",mass:1,opacity:.6,textureFilepath:"https://threejsfundamentals.org/threejs/resources/images/wall.jpg"}],Me=a(11),ze=a(9),He=a(5),Fe=a(6),Be=function(e){Object(He.a)(a,e);var t=Object(Fe.a)(a);function a(){var e;return Object(xe.a)(this,a),(e=t.call(this,De,Ne))._ballObjIdx=void 0,e._groundObjIdx=void 0,e._gaCoefIdx=void 0,e._ballRadiusIdx=void 0,e._groundHeightIdx=void 0,e._restitutionCoeffIdx=void 0,e._airRessistanceCoefIdx=void 0,e._initialHeightIdx=void 0,e._massIdx=void 0,e._ballPosys=[],e._ballVelys=[],e._energies=[],e._ballObjIdx=e.findObjIndex("ball1"),e._groundObjIdx=e.findObjIndex("ground1"),e._gaCoefIdx=e.findParamIndex("gravitational_acceleration"),e._groundHeightIdx=e.findParamIndex("ground_height"),e._ballRadiusIdx=e.findParamIndex("ball_radius"),e._restitutionCoeffIdx=e.findParamIndex("restitution_coefficient"),e._airRessistanceCoefIdx=e.findParamIndex("air_resistance_coefficient"),e._initialHeightIdx=e.findParamIndex("initial_height"),e._massIdx=e.findParamIndex("ball_mass"),e.reset(),e}return Object(ge.a)(a,[{key:"_update",value:function(e){if(this._is_running){var t=this._systemParams[this._massIdx].value;this._objStates[this._ballObjIdx].vel.y+=e*this.gravitationalForce()/t,this._objStates[this._ballObjIdx].pos.y+=e*this._objStates[this._ballObjIdx].vel.y,this._objStates[this._ballObjIdx].pos.x+=e*this._objStates[this._ballObjIdx].vel.x,this._objStates[this._ballObjIdx].pos.z+=e*this._objStates[this._ballObjIdx].vel.z;var a=this._systemParams[this._ballRadiusIdx].value,n=this._systemParams[this._groundHeightIdx].value,i=this._systemParams[this._restitutionCoeffIdx].value;this._objStates[this._ballObjIdx].pos.y-a<n&&(this._objStates[this._ballObjIdx].pos.y=n+a,this._objStates[this._ballObjIdx].vel.y*=-i),this._ballPosys.push(this._objStates[this._ballObjIdx].pos.y),this._ballPosys.length>this.MAX_QUEUE&&this._ballPosys.shift(),this._ballVelys.push(this._objStates[this._ballObjIdx].vel.y),this._ballVelys.length>this.MAX_QUEUE&&this._ballVelys.shift(),this._energies.push(this.energy()),this._energies.length>this.MAX_QUEUE&&this._energies.shift()}}},{key:"getStates",value:function(e){if(void 0!==e)throw new Error("Method not implemented.");return this._objStates}},{key:"getBallHeight",value:function(){return this._objStates[this._ballObjIdx].pos.y}},{key:"getGroundHeight",value:function(){return this._systemParams[this._groundHeightIdx].value}},{key:"getBallRadius",value:function(){return this._systemParams[this._ballRadiusIdx].value}},{key:"gravitationalForce",value:function(){return-this._systemParams[this._massIdx].value*this._systemParams[this._gaCoefIdx].value-this._systemParams[this._airRessistanceCoefIdx].value*Math.pow(this._objStates[this._ballObjIdx].vel.y,2)}},{key:"energy",value:function(){var e=this._systemParams[this._massIdx].value,t=this._systemParams[this._gaCoefIdx].value;return.5*e*Math.pow(this._objStates[this._ballObjIdx].vel.y,2)+e*t*this._objStates[this._ballObjIdx].pos.y}},{key:"reset",value:function(){Object(Me.a)(Object(ze.a)(a.prototype),"reset",this).call(this),void 0!==this._ballObjIdx&&(this._objStates[this._ballObjIdx].pos.y=parseFloat(this._systemParams[this._initialHeightIdx].value),this._objStates[this._ballObjIdx].vel.y=0),this._ballVelys.splice(0),this._ballPosys.splice(0)}},{key:"historicalData",value:function(){var e=Object(Me.a)(Object(ze.a)(a.prototype),"historicalData",this).call(this);return e.ball_pos_y=this._ballPosys,e.ball_vel_y=this._ballVelys,e.energy=this._energies,e}}]),a}(function(){function e(t,a){Object(xe.a)(this,e),this._t=0,this._is_running=!1,this._initialObjStates=[],this._objStates=[],this._systemParams=[],this.MAX_DT=.1,this.MAX_QUEUE=2e3,this._ts=[],this._initialObjStates=t,this._objStates=oe()(t),this._systemParams=oe()(a)}return Object(ge.a)(e,[{key:"update",value:function(e){this._is_running&&(this._t+=e,this._update(Math.min(e,this.MAX_DT)),this._ts.push(this._t),this._ts.length>this.MAX_QUEUE&&this._ts.shift())}},{key:"reset",value:function(e){this._t=0,this._is_running=!1,void 0!==e?(this._initialObjStates=e,this._objStates=oe()(e)):this._objStates=oe()(this._initialObjStates),this._ts.splice(0),console.log("simulator reset")}},{key:"stop",value:function(){console.log("stopped running"),this._is_running=!1}},{key:"start",value:function(){console.log("started running"),this._is_running=!0}},{key:"setSystemParams",value:function(e){this._systemParams=oe()(e)}},{key:"isRunning",value:function(){return this._is_running}},{key:"findObjIndex",value:function(e){for(var t=0;t<(null===(a=this._objStates)||void 0===a?void 0:a.length);++t){var a;if(this._objStates[t].name===e)return t}throw new Error("Object with name ".concat(e," not found."))}},{key:"findParamIndex",value:function(e){for(var t=0;t<(null===(a=this._systemParams)||void 0===a?void 0:a.length);++t){var a;if(this._systemParams[t].id===e)return t}throw new Error("Parameter with name ".concat(e," not found."))}},{key:"historicalData",value:function(){return{time:this._ts}}}]),e}()),Ve=function(e){var t=Object(n.useState)(new Be),a=Object(u.a)(t,2),o=a[0],s=(a[1],Object(n.useState)(null)),r=Object(u.a)(s,2),c=r[0],l=r[1],d=Object(n.useState)(null),h=Object(u.a)(d,2),b=h[0],j=h[1],p=i.a.useContext(se);p.onUpdate=function(e){if(o.update(e),null!==c&&null!==(null===c||void 0===c?void 0:c.obj)){var t=o.getBallHeight();c.obj.position.y=t,c.obj.scale.y=2*o.getBallRadius(),c.obj.scale.x=2*o.getBallRadius(),c.obj.scale.z=2*o.getBallRadius()}null!==b&&null!==(null===b||void 0===b?void 0:b.obj)&&(b.obj.position.y=o.getGroundHeight())},void 0!==p.setSimulator&&p.setSimulator(o);var m=function(e){var t=[];return e.forEach((function(e){"sphere"===e.objType?t.push({tag:e.name,obj:Oe.createSphere(e.pos.x,e.pos.y,e.pos.z,e.scale.x,e.opacity,e.color,O.h,e.textureFilepath),objType:e.objType}):"plane"===e.objType&&t.push({tag:e.name,obj:Oe.createPlane(e.pos.x,e.pos.y,e.pos.z,e.rotation.x,e.rotation.y,e.rotation.z,e.opacity,e.color,e.scale.x,e.scale.z,O.f,e.textureFilepath),objType:e.objType})})),t}(De);return m.map((function(e){ye(p,e)})),console.log(m),Object(n.useEffect)((function(){return l(_e(p,"ball1")),j(_e(p,"ground1")),function(){console.log("clearing all"),o.stop(),p.onUpdate=void 0,void 0!==p.setSimulator&&p.setSimulator(void 0)}}),[o,c]),Object(Z.jsx)("div",{children:Object(Z.jsx)(we,{})})},Ue=function(e){var t=i.a.useState(["CoordinateAxisScene","TestBoxPlaneScene","BouncingBallScene","Scene3"]),a=Object(u.a)(t,2),o=a[0],s=(a[1],i.a.useState("BouncingBallScene")),r=Object(u.a)(s,2),c=r[0],l=r[1],d=i.a.useState([]),h=Object(u.a)(d,2),y=h[0],_=h[1],E=i.a.useState(),w=Object(u.a)(E,2),S=w[0],T=w[1],P=i.a.useState(function(){var e=new O.m(45,.55*window.innerWidth/(.6*window.innerHeight),.1,1e3);return e.position.x=10,e.position.y=10,e.position.z=10,e}()),I=Object(u.a)(P,2),R=I[0],C=I[1],A=i.a.useState("RUN"),k=Object(u.a)(A,2),L=k[0],N=k[1],D=i.a.useState([]),M=Object(u.a)(D,2),z=M[0],H=M[1],F=i.a.useState({}),B=Object(u.a)(F,2),V=B[0],U=B[1],Y=i.a.useState({}),X=Object(u.a)(Y,2),G=X[0],W=X[1];Object(n.useEffect)((function(){if(S){var e=S.historicalData(),t=Object.keys(e);H(t),console.log(t)}}),[S]);var K,Q=0;return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(q,{}),Object(Z.jsx)(b.a,{maxWidth:"xl",children:Object(Z.jsxs)(p.a,{container:!0,spacing:2,direction:"row",alignItems:"center",children:[Object(Z.jsxs)(p.a,{item:!0,xs:12,md:10,lg:10,style:{padding:"0px 0px 0px 60px"},children:[Object(Z.jsx)(g.a,{htmlFor:"scene-select",children:"SCENE"}),Object(Z.jsxs)(m.a,{onChange:function(e){_([]),l(e.target.value)},label:"Scene",value:c,variant:"outlined",children:[Object(Z.jsx)(v.a,{value:"",children:Object(Z.jsx)("em",{children:"None"})}),Object(Z.jsx)(x.a,{style:{color:"#0000FF"},children:"--Frontend Calculated--"}),o.map((function(e){return Object(Z.jsx)(v.a,{value:e,children:e})})),Object(Z.jsx)(x.a,{style:{color:"#0000FF"},children:"--Backend Calculated--"})]})]}),Object(Z.jsxs)(p.a,{item:!0,xs:12,md:2,lg:2,style:{padding:"0px 60px 0px 0px"},children:[Object(Z.jsx)(f.a,{variant:"contained",onClick:function(e){void 0!==S&&(console.log("run button"),S.isRunning()?(S.stop(),N("RUN")):(S.start(),N("STOP")))},style:{marginRight:"10px"},children:L}),Object(Z.jsx)(f.a,{variant:"contained",onClick:function(e){void 0!==S&&(S.reset(),N("RUN"))},children:"Reset"})]}),Object(Z.jsx)(p.a,{item:!0,xs:12,md:8,lg:8,children:Object(Z.jsxs)(j.a,{style:{padding:"10px 50px 30px",margin:"0px 0px 0px 40px",height:550},children:["3DViewer / ".concat(c),Object(Z.jsx)(se.Provider,{value:{width:.55*window.innerWidth,height:.6*window.innerHeight,camera:R,setCamera:C,objects:y,simulator:S,setSimulator:T,onUpdateChart:function(e){Q+=1,S&&S.isRunning()&&Q%10==0&&(G.chart1&&G.chart1(e,S),G.chart2&&G.chart2(e,S),G.chart3&&G.chart3(e,S))}},children:"CoordinateAxisScene"===c?Object(Z.jsx)(we,{}):"TestBoxPlaneScene"===c?Object(Z.jsx)(Se,{}):"BouncingBallScene"===c?Object(Z.jsx)(Ve,{}):void 0})]})}),Object(Z.jsx)(p.a,{item:!0,xs:12,md:4,lg:4,children:Object(Z.jsx)(j.a,{style:{padding:"5px 5px 5px",margin:"0px 40px 0px 0px",height:550},children:Object(Z.jsx)(re.Provider,{value:{params:(K=c,"BouncingBallScene"===K?Ne:[]),onParameterChaneged:function(e,t){console.log("param changed : ".concat(t)),console.log(e),void 0!==S&&t&&(console.log("Setting params"),S.setSystemParams(e))}},children:Object(Z.jsx)(je,{})})})}),Object(Z.jsxs)(ce.Provider,{value:{onSceneUpdateChartCallbacks:G,setOnSceneUpdateChartCallbacks:W,chartRefs:V,setChartRefs:U},children:[Object(Z.jsx)(p.a,{item:!0,xs:4,children:Object(Z.jsx)(j.a,{style:{padding:"10px 10px 10px",margin:"0px 0px 0px 40px",height:300},children:Object(Z.jsx)(Le,{data:function(){if(S){var e=S.historicalData();return console.log(e),e}return{}}(),variables:z,tag:"chart1"})})}),Object(Z.jsx)(p.a,{item:!0,xs:4,children:Object(Z.jsx)(j.a,{style:{padding:"10px 50px 10px",margin:"0px 0px 0px 0px",height:300},children:Object(Z.jsx)(Le,{data:function(){if(S){var e=S.historicalData();return console.log(e),e}return{}}(),variables:z,tag:"chart2"})})}),Object(Z.jsx)(p.a,{item:!0,xs:4,children:Object(Z.jsx)(j.a,{style:{padding:"10px 10px 10px",margin:"0px 40px 0px 0px",height:300},children:Object(Z.jsx)(Le,{data:S?S.historicalData():{},variables:z,tag:"chart3"})})})]})]})})]})};var Ye=function(){return Object(Z.jsx)("div",{className:"App",children:Object(Z.jsx)(r.a,{theme:h,children:Object(Z.jsxs)(c.a,{basename:"/SDVVR",children:[Object(Z.jsx)(l.c,{children:Object(Z.jsx)(l.a,{path:"/",component:Ue,exact:!0})}),Object(Z.jsx)(l.c,{children:Object(Z.jsx)(l.a,{path:"/physical_simulation",component:Ue,exact:!0})})]})})})},Xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,296)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),o(e),s(e)}))};s.a.render(Object(Z.jsx)(i.a.StrictMode,{children:Object(Z.jsx)(Ye,{})}),document.getElementById("root")),Xe()}},[[189,1,2]]]);
//# sourceMappingURL=main.220a242b.chunk.js.map